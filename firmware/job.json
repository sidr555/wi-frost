[
    {
        "name": "Ручной запуск компрессора",
        "conditions": [
            "!freeze"
        ],
        "actions": {
            "compressor": true,
            "heater": false
        },
        "force": true
    },
    {
        "name": "Ручной запуск отопителя",
        "conditions": [
            "!heat"
        ],
        "actions": {
            "compressor": false,
            "heater": true
        },
        "force": true
    },
    {
        "name": "Спящий режим",
        "conditions": [
            "!sleep"
        ],
        "actions": {
            "compressor": false,
            "compressor_fan": false,
            "heater": false
        },
        "limits": {
            "minTime": "1h"
        },
        "force": true
    },
    {
        "name": "Запуск компрессора при нагреве морозилки",
        "conditions": [
            "./temp_moroz > -12",
            "./heater = 0"
        ],
        "actions": {
            "compressor": true
        },
        "limits": {
            "minTime": "30m",
            "maxTime": "2h"
        }
    },
    {
        "name": "Остановка компрессора при охлаждении морозилки",
        "conditions": [
            "./temp_moroz < -18"
        ],
        "actions": {
            "compressor": false,
            "compressor_fan": true
        },
        "limits": {
        }
    },
    {
        "name": "Остановка вентиля компрессора через 15 минут",
        "conditions": [
            "./compressor rest 15m"
        ],
        "actions": {
            "compressor_fan": false
        }
    },
    {
        "name": "Включение отопителя ночью",
        "conditions": [
            "#clock >= 4h",
            "#clock < 7h"
        ],
        "actions": {
            "compressor": false,
            "heater": true
        },
        "limits": {
            "minTime": "2h"
        }
    },
    {
        "name": "Тревога при холодной морозилке и теплом холодильнике",
        "conditions": [
            "./temp_moroz < -15",
            "./temp_body > -5"
        ],
        "actions": {
            "@alert": "В морозилке холодно, в холодильнике тепло!",
            "@email": "Включите тэн!",
            "@tg": "Включи тэн, дружище!"
        }
    },
    {
        "name": "Дублирующий ребут через топик",
        "conditions": [
            "!reboot2"
        ],
        "actions": {
            "@topic": "s-home/wi-frost/job/reboot"
        }
    }
]
